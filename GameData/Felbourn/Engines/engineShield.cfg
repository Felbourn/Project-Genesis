
PART
{
	name = Fel_EngineShield1

	module = Part
	category = Structural
	subcategory = 0

	title = Engine Heat Shield (short)
	author = Felbourn
	manufacturer = Felbourn Industries
	description = Protect your rocket's precious bits from engine heat damage.

	MODEL
	{
		model = CMES/Structural/ORION-ADAPTER/Str_J2_3m-5m_Dec
		scale = 0.75, 0.4, 0.75
		rotation = 0, 180, 180
	}
	scale = 1
	rescaleFactor = 1

	node_stack_bottom = 0, 0.5, 0,   0, -1, 0,  4
	node_stack_top = 0, 0.6, 0,      0, 1, 0,   4
	attachRules = 1,0,1,1,0

	//TechRequired = heavyAerodynamics
	TechRequired = inProgress
	entryCost = 2800
	cost = 800

	mass = 0.05

	dragModelType = default
	maximum_drag = 0.1
	minimum_drag = 0.1
	angularDrag = 1

	thermalMassModifier = 2
	heatConductivity = 0.25	
	emissiveConstant = 0.75

	VARS
	{
		maxTemp = heatShield
	}

	MODULE
	{
		name = TweakScale
		type = stack
		defaultScale = 3.75
	}
}

@PART[Fel_EngineShield1]:FOR[Felbourn]
{
	@title ^= : FIX ME::
	@TechRequired = finished
	MASS
	{
		name = TruncConeArea
		diaTop = 3.75
		diaBot = 3.00
		hgt = 1.2
		dep = 0.02
		density = #$@MM_VARS/PanelMass$
	}
	DRAG_CUBE // X+, X-, Y+, Y-, Z+, Z- (area, drag coeff, depth)
	{
		// old cube     3.942204,0.7289354,1.967253, 3.942204,0.7289737,1.967253, 5.143834,0.4337143,1.301178, 5.143834,0.4078124,1.301178, 3.942203,0.7297046,1.967255, 3.942203,0.728229,1.967255, -1.559258E-06,2.419156E-07,7.769484E-14, 3.749997,1.200002,3.750001

		cube = Default, 3.942204,0.7289354,1.967253, 3.942204,0.7289737,1.967253, 5.143834,0.4337143,1.301178, 5.143834,0.4078124,1.301178, 3.942203,0.7297046,1.967255, 3.942203,0.728229,1.967255, -1.559258E-06,2.419156E-07,7.769484E-14, 3.749997,1.200002,3.750001
	}
}

+PART[Fel_EngineShield1]:FOR[Felbourn]
{
	@name = Fel_EngineShield2
	@title ^= : FIX ME::
	@title ^= :short:medium:
	@TechRequired = finished
	@MODEL
	{
		@scale = #$/MODEL/scale[0]$, 0.65, $/MODEL/scale[2]$
	}
	@node_stack_top = #$node_stack_top[0]$, 0.97, $node_stack_top[2]$, $node_stack_top[3]$, $node_stack_top[4]$, $node_stack_top[5]$, $node_stack_top[6]$
	@MASS[TruncConeArea]
	{
		@hgt = 1.9
	}
	DRAG_CUBE // X+, X-, Y+, Y-, Z+, Z- (area, drag coeff, depth)
	{
		// old          6.44331,0.7609509,1.967253, 6.44331,0.7609663,1.967253, 5.143834,0.3217864,2.048826, 5.143834,0.2866524,2.048826, 6.443309,0.7622972,1.967255, 6.443309,0.759558,1.967255, -1.559257E-06,3.931127E-07,7.769484E-14, 3.749997,1.950002,3.750001

		cube = Default, 6.44331,0.7609509,1.967253, 6.44331,0.7609663,1.967253, 10.75210086,0.2,0.5, 10.75210086,0.2,2.048826, 6.443309,0.7622972,1.967255, 6.443309,0.759558,1.967255, -1.559257E-06,3.931127E-07,7.769484E-14, 3.749997,1.950002,3.750001
	}
}

+PART[Fel_EngineShield1]:FOR[Felbourn]
{
	@name = Fel_EngineShield3
	@title ^= : FIX ME::
	@title ^= :short:long:
	@TechRequired = finished
	@MODEL
	{
		@scale = #$/MODEL/scale[0]$, 0.9, $/MODEL/scale[2]$
	}
	@node_stack_top = #$node_stack_top[0]$, 1.35, $node_stack_top[2]$, $node_stack_top[3]$, $node_stack_top[4]$, $node_stack_top[5]$, $node_stack_top[6]$
	@MASS[TruncConeArea]
	{
		@hgt = 2.6
	}
	DRAG_CUBE // X+, X-, Y+, Y-, Z+, Z- (area, drag coeff, depth)
	{
		// old cube     8.845712,0.7712557,1.967253, 8.845712,0.7712768,1.967253, 5.143834,0.2679158,2.79765, 5.143834,0.228167,2.79765, 8.84571,0.7729533,1.967255, 8.84571,0.7695886,1.967255, -1.559257E-06,5.443098E-07,7.769484E-14, 3.749997,2.700003,3.750001

		cube = Default, 8.845712,0.7712557,1.967253, 8.845712,0.7712768,1.967253, 5.143834,0.2679158,2.79765, 5.143834,0.228167,2.79765, 8.84571,0.7729533,1.967255, 8.84571,0.7695886,1.967255, -1.559257E-06,5.443098E-07,7.769484E-14, 3.749997,2.700003,3.750001
	}
}

@PART[Fel_EngineShield*]:FOR[Felbourn]
{
	temp = #$node_stack_top[1]$
	@temp -= 0.1
	@node_stack_bottom = #$node_stack_bottom[0]$, $temp$, $node_stack_bottom[2]$, $node_stack_bottom[3]$, $node_stack_bottom[4]$, $node_stack_bottom[5]$, $node_stack_bottom[6]$	
	!temp = DELETE
}
