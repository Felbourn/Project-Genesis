//-------------------------------------------------------------------------------------------------
// 48-7S "Spark" Liquid Fuel Engine
@PART[liquidEngineMini]:AFTER[Squad]
{
	@title ^= : FIX ME::

	@mass = #$/MODULE[ModuleEnginesFX]/maxThrust$
	@mass /= #$@MM_VARS/UpperTWR_12$
	@mass /= #$@MM_VARS/Gravity$

	@MODULE[ModuleEnginesFX]
	{
		//@maxThrust = 
		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 1
			@ratio /= #$@RESOURCE_DEFINITION[UDMH]/density$
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = #$@MM_VARS/UDMH2NTO$
			@ratio /= #$@RESOURCE_DEFINITION[NTO]/density$
		}
		@atmosphereCurve
		{
			@key,0 = 0 254
			@key,1 = 1 202
		}
	}

 	PLUME
    {
        name = Hypergolic-OMS-White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,-0.5
        fixedScale = 3
        energy = 1
        speed = 1
    }

	@TechRequired = inProgress
}

//-------------------------------------------------------------------------------------------------
// LV-909 "Terrier" Liquid Fuel Engine
@PART[liquidEngine3]:AFTER[Squad]
{
	@title ^= : FIX ME::
	%MODULE[ModuleEngineConfigs]
	{
		configuration = Kerolox
		@CONFIG[Kerolox]
		{
			minThrust = 0
			maxThrust = #$/MODULE[ModuleEnginesFX]/maxThrust$
			atmosphereCurve
			{
				key = 0 278
				key = 1 69
				key = 3 0.001
			}
		}
		@CONFIG[Hydrolox]
		{
			minThrust = 0
			maxThrust = #$/MODULE[ModuleEnginesFX]/maxThrust$
			atmosphereCurve
			{
				key = 0 308
				key = 1 71
				key = 3 0.001
			}
		}
		@CONFIG[Hypergolic]
		{
			minThrust = 0
			maxThrust = #$/MODULE[ModuleEnginesFX]/maxThrust$
			atmosphereCurve
			{
				key = 0 288
				key = 1 63
				key = 3 0.001
			}
		}
	}
	@mass = #$/MODULE[ModuleEnginesFX]/maxThrust$
	@mass /= #$@MM_VARS/UpperTWR_12$
	@mass /= #$@MM_VARS/Gravity$

	@TechRequired = inProgress
}

//-------------------------------------------------------------------------------------------------
// RE-M3 "Mainsail" Liquid Engine
@PART[liquidEngine1-2]:AFTER[Squad]
{
	@title ^= : FIX ME::

	!MODULE[TweakScale] {}

	@mass = #$/MODULE[ModuleEnginesFX]/maxThrust$
	@mass /= #$@MM_VARS/LowerTWR_25$
	@mass /= #$@MM_VARS/Gravity$	

	@MODULE[ModuleEnginesFX]
	{
		@maxThrust = 1800
		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 1
			@ratio /= #$@RESOURCE_DEFINITION[Kerosene]/density$
		}
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = #$@MM_VARS/Kerosene2LqdOxygen$
			@ratio /= #$@RESOURCE_DEFINITION[LqdOxygen]/density$
		}
		@atmosphereCurve
		{
			@key,0 = 0 236
			@key,1 = 1 217
		}
	}

  	PLUME
    {
        name = Kerolox-Lower
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,4
        fixedScale = 1
        energy = 1
        speed = 1
    }
    
	@TechRequired = inProgress
}
