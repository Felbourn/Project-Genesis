
@PART[*]:HAS[@MODULE[ModuleReactionWheel]]
{
	!MODULE[ModuleReactionWheel] {} // will add some back by hand with reduced strength
	%ACTIONS
	{
		action = remove ModuleReactionWheel
	}
}

@PART[*]:HAS[#torque_dia[*]]:Final
{
	%ACTIONS
	{
		action = add ModuleReactionWheel
	}
	MODULE
	{
		name = ModuleReactionWheel

		PitchTorque = #$/torque_dia$
		@PitchTorque *= #$@MM_VARS/DiamToRadius$
		@PitchTorque != #$@MM_VARS/Squared$
		@PitchTorque *= #$@MM_VARS/PI$
		@PitchTorque *= #$/torque_hgt$
		@PitchTorque *= #$@MM_VARS/TorquePerM3$

		@YawTorque = #$PitchTorque$
		@RollTorque = #$PitchTorque$

	}	
	@MODULE[ModuleReactionWheel]
	{
		RESOURCE
		{
			name = ElectricCharge
			rate = #$/MODULE[ModuleReactionWheel]/PitchTorque$
			@rate *= #$@MM_VARS/WattsPerTorque$
			@rate /= #$@MM_VARS/SecondsPerHour$
		}
	}
}
