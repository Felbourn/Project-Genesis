
//-------------------------------------------------------------------------------------------------
// MODULES
//-------------------------------------------------------------------------------------------------
// crewUtilityPodInternals		1 	utility closet, battery, hatches, window, jump seat
// CxA_Node1_Internal			1	ISS style interior w/6 hatches
// CxA_NapHabV1_Internal		2	two beds and a seat
// Mobile_Processing_Lab_Int	2	ladders up and down, science on wall, lots of drawers
// crewCabinInternals			4 	open module, wall drawers, jump seats, window, two hatches
// km_bunker_internal			4   inside an asteroid, metal and rocky walls
// km_skylab_internal			5 	two levels, lots of open space
//-------------------------------------------------------------------------------------------------


//-------------------------------------------------------------------------------------------------
// --- Cx Aerospace ---
//-------------------------------------------------------------------------------------------------

+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = CxA_NapHabV1_Internal
	@title = #$name$
	@CrewCapacity = 2
	%VARS
	{
		interior = removed // only add the interior from the next line if it exists, else this stayes 'removed'
		@interior = #$@INTERNAL[CxA_NapHabV1_Internal]/name$
	}
	@description = two beds and a seat
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = CxA_Node1_Internal
	@title = #$name$
	@CrewCapacity = 1
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[CxA_Node1_Internal]/name$
	}
	@description = ISS style interior w/6 hatches
}


//-------------------------------------------------------------------------------------------------
// --- Tantares ---
//-------------------------------------------------------------------------------------------------

+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = Tantares_Habitation_A_Interior_Basic
	@title = #$name$
	@CrewCapacity = 1
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[Tantares_Habitation_A_Interior_Basic]/name$
	}
}


//-------------------------------------------------------------------------------------------------
// --- ALCOR ---
//-------------------------------------------------------------------------------------------------

+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = ALCOR_Monley_Internals
	@title = #$name$
	@CrewCapacity = 3
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[ALCOR_Monley_Internals]/name$
	}
	@description = crappy without raster
}


//-------------------------------------------------------------------------------------------------
// --- Squad ---
//-------------------------------------------------------------------------------------------------

+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = inlineCmdPodinternals
	@title = #$name$
	@CrewCapacity = 6
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[inlineCmdPodinternals]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = mk3-9podinternals
	@title = #$name$
	@CrewCapacity = 2
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[mk3-9podinternals]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = crewUtilityPodInternals
	@title = #$name$
	@CrewCapacity = 2
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[crewUtilityPodInternals]/name$
	}
	@description = utility closet, battery, hatches, window, jump seat
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = cupolaInternal
	@title = #$name$
	@CrewCapacity = 1
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[cupolaInternal]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = crewCabinInternals
	@title = #$name$
	@CrewCapacity = 4
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[crewCabinInternals]/name$
	}
	@description = open module, wall drawers, jump seats, window, two hatches
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = PodCockpit
	@title = #$name$
	@CrewCapacity = 3
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[PodCockpit]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = mk1CockpitInternal
	@title = #$name$
	@CrewCapacity = 1
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[mk1CockpitInternal]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = landerCabinInternals
	@title = #$name$
	@CrewCapacity = 2
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[landerCabinInternals]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = MK1_Inline_Int
	@title = #$name$
	@CrewCapacity = 1
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[MK1_Inline_Int]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = landerCabinSmallInternal
	@title = #$name$
	@CrewCapacity = 1
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[landerCabinSmallInternal]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = mk2CockpitStandardInternals
	@title = #$name$
	@CrewCapacity = 2
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[mk2CockpitStandardInternals]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = MK3_Cockpit_Int
	@title = #$name$
	@CrewCapacity = 6
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[MK3_Cockpit_Int]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = Mobile_Processing_Lab_Int
	@title = #$name$
	@CrewCapacity = 2
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[Mobile_Processing_Lab_Int]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = MK2_CrewCab_Int
	@title = #$name$
	@CrewCapacity = 6
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[MK2_CrewCab_Int]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = mk1PodCockpit
	@title = #$name$
	@CrewCapacity = 1
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[mk1PodCockpit]/name$
	}
}
+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = MK3_CrewCab_Int
	@title = #$name$
	@CrewCapacity = 16
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[MK3_CrewCab_Int]/name$
	}
}


//-------------------------------------------------------------------------------------------------
// --- Klockheed Martian ---
//-------------------------------------------------------------------------------------------------

+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = km_bunker_internal
	@title = #$name$
	@CrewCapacity = 4
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[km_bunker_internal]/name$
	}
}

+PART[baseInternals]:AFTER[zPhase0Parts]
{
	@name = km_skylab_internal
	@title = #$name$
	@CrewCapacity = 5
	%VARS
	{
		interior = removed
		@interior = #$@INTERNAL[km_skylab_internal]/name$
	}
	@descripton = two levels, lots of open space
}


//-------------------------------------------------------------------------------------------------
// --- All ---
//-------------------------------------------------------------------------------------------------

// nothing gets an interior unless I say so
@PART[*]:HAS[@INTERNAL[*]]:AFTER[zPhase1Init]
{
	%ACTIONS
	{
		action = remove old interior
	}
	%VARS
	{
		oldInternal = #$/INTERNAL/name$
	}
	!INTERNAL {}
}

// these are the ones I've set up
@PART[*]:HAS[@VARS:HAS[#interior[*]]]:AFTER[zPhase1Init]
{
	%ACTIONS
	{
		action = define interior
	}
	INTERNAL
	{
		name = #$/VARS/interior$
	}
}

// prevent crashes by making sure any crew space also has an interior
@PART[*]:HAS[#CrewCapacity[>0],!INTERNAL[*]]:AFTER[zPhase1Init]
{
	%ACTIONS
	{
		action = interior undefined, use default interior
	}
	@INTERNAL
	{
		@name = Placeholder
	}
}
